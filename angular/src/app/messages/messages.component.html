<div [@routerTransition]>

    <div class="row">
        <div class="col-sm-8">
            <h3 class="page-title mb-3">Messages</h3>
        </div>
        <div class="col-sm-4 text-right">
            <button mat-mini-fab color="primary" (click)="createMessage()">
                <mat-icon>add</mat-icon>
            </button>
        </div>
    </div>

    <mat-card>
        <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
        <mat-list>
            <mat-list-item *ngFor="let item of messages" [routerLink]="['/app/messages/' + item.relatedUserId]"
                routerLinkActive="active">
                <mat-icon mat-list-icon>perm_identity</mat-icon>
                <div mat-line>{{item.displayName}}</div>
                <div mat-line>{{item.message.content}}</div>
                <div mat-line>{{item.message.dateSent | date}}</div>
                <mat-divider></mat-divider>
            </mat-list-item>
        </mat-list>
    </mat-card>

</div>
